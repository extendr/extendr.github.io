project:
  type: website
  render:
    - "*.qmd"
    - "*.md"
    - "!CONTRIBUTING.md"

execute:
  freeze: true

website:
  title: "extendr"
  site-url: https://extendr.github.io
  repo-url: https://github.com/extendr/extendr.github.io
  repo-branch: main
  repo-actions: [edit, issue]

  navbar:
    logo: /images/feRris.png
    left:
      - text: "Get Started"
        href: get-started.qmd
      - text: Documentation
        menu:
          - text: "Rust crates"
            href: "https://extendr.github.io/extendr/"
          - text: "{rextendr} package"
            href: https://extendr.github.io/rextendr/dev
          - user-guide/index.qmd
          - intro-rust/index.qmd
      - text: "Blog"
        href: blog/index.qmd
    right:
      - icon: github
        href: https://github.com/extendr/extendr
      - icon: discord
        href: https://discord.gg/7hmApuc

  sidebar:
    - title: "Rust for R Developers"
      style: "floating"
      collapse-level: 1
      contents:
        - intro-rust/index.qmd
        - intro-rust/why-rust.qmd
        - intro-rust/hello-world.qmd
        - intro-rust/types.qmd
        - intro-rust/fizz-buzz.qmd
        - intro-rust/collections.qmd
        - intro-rust/for-loops.qmd
        - intro-rust/mutability.qmd
        - intro-rust/mutable-vectors.qmd
        - intro-rust/is-odd.qmd
        - intro-rust/references-slices.qmd
        - intro-rust/iterators.qmd
        - intro-rust/iter-map.qmd
        - intro-rust/structs.qmd
        - intro-rust/struct-methods.qmd
        - intro-rust/enums.qmd
        - intro-rust/options.qmd

    - title: "User Guide"
      collapse-level: 1
      style: "floating"
      contents:
        - user-guide/index.qmd
        - user-guide/complete-example.qmd
        - section: "R Packages"
          contents:
            - user-guide/r-pkgs/package-setup.qmd
            - user-guide/r-pkgs/package-structure.qmd
        - section: "Type Mapping"
          contents:
            - user-guide/type-mapping/extendr-macro.qmd
            - user-guide/type-mapping/scalars.qmd
            - user-guide/type-mapping/vectors.qmd
            - user-guide/type-mapping/collections.qmd
            - user-guide/type-mapping/into-list.qmd
            - user-guide/type-mapping/missing-values.qmd
            - user-guide/type-mapping/characters.qmd
        - section: "Error Handling"
          contents:
            - user-guide/error-handling/basic-error-handling.qmd
        - user-guide/default-args.qmd
        - user-guide/serde-integration.qmd
        - user-guide/tokio.qmd
        - user-guide/cran-publishing.qmd
        - text: CRAN's MSRV
          href: user-guide/cran-msrv.qmd
        - text: WebR
          href: user-guide/webr.qmd
        - text: FAQ
          href: user-guide/faq.qmd

format:
  html:
    html-table-processing: none
    theme: css/_bootswatch.scss
    toc: true
    include-in-header:
      - text: |
          <script type="text/javascript" src="/js/breadcrumb-fix.js"></script>
